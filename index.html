<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel8.earth</title>

    <!-- Your styles -->
    <style>
      html {
        background-color: #f2f4f5;
      }
      body {
        margin: 0;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale
      }
      a {
        color: #5b9fde;
        padding: 15px;
        margin: 15px;
        text-decoration: none;
        font-size: 1.25em;
      }
      .linkNoStyling {
        font-size: inherit;
        text-decoration: none;
        padding: unset;
        margin: unset;
      }
      .boulderMapLink {
        color: #5b9fde;
        font-size: inherit;
        text-decoration: none;
        padding: unset;
        margin: unset;
      }
      #boulderLidarLink {
        color: #5b9fde;
        text-decoration: none;
        font-size: inherit;
        margin: auto;
        padding: 0;
      }

      header {
        background-color: #0b2427;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: calc(4px + 2vmin);
        color: #f2f4f5;
        margin: 15px;
        height: 95vh;
      }
      #appHeader {
        background-color: #0b2427;
        color: #f2f4f5;
        display: flex;
        align-content: center;
        justify-content: center;
        clip-path: polygon(0% 0%, 100% 0, 100% 95%, 50% 100%, 0 95%);
        -webkit-clip-path: polygon(0% 0%, 100% 0, 100% 95%, 50% 100%, 0 95%);
        -moz-clip-path: polygon(0% 0%, 100% 0, 100% 95%, 50% 100%, 0 95%);
      }
      #pixel8Logo {
        width: 80%;
      }
      .tagline {
        padding-top: 0px;
      }

      .phoneContainer {
        flex: 1;
        align-self: center;
        margin: 5vh;
      }
      .phoneShell {
        max-width: 300px;
      }
      .boulderMapImg {
        max-width: 90vw;
        border-radius: 15px;
        object-fit: cover;
      }
      .pixel8Gif {
        width: 207px;
        position: relative;
        bottom: 120px;
        right: 408px;
      }
      .mapImage {
        padding: 5vh;
        background-color: #0b2427;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .map {
        padding-top: 5vh;
        padding-bottom: 5vh;
        background-color: #0b2427; /* gray that goes with potree viewer -> #0f171a; */
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .downloadsMap {
        padding-top: 3vh;
        padding-bottom: 0;
      }
      .interact {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        height: 90vh;
        width: 100%;
        position: absolute;
        z-index: 5;
      }
      .exitMap {
        background-color: transparent;
        position: relative;
        cursor: pointer;
        bottom: -35px;
        display: none;
        z-index: 5;
      }
      #犬夜叉 {
        display: none;
        position: -moz-sticky; /* firefox */
        position: -webkit-sticky; /* Safari */
        position: sticky;
        bottom: 0;
        right: 0;
        z-index: 1001;
      }
      .close {
        font-size: 2em;
        font-weight: bold;
        background-color: transparent;
        color: #f2f4f5;
        border: none;
        cursor: pointer;
      }

      .sideBySide {
        display: inline-flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-content: space-evenly;
      }
      .info {
        color: #263f59;
        background-color: #f2f4f5;
        padding: 5vh;
        overflow: hidden;
        font-size: 1.25em;
        line-height: 1.5;
        flex: 2;
        align-self: center;
      }
      .infoContainer {
        padding: 30px;
        background-color: #d3dddc;
        border-radius: 15px;
        align-items: stretch;
        height: auto;
      }
      .dark {
        background-color: #0b2427;
      }
      .noBtmPad {
        padding-bottom: 0;
      }
      .button {
        padding: 6px;
        /* font-size: 15px; */
        border: 1px solid transparent;
        border-radius: 5px;
        background-color: #f2f4f5;
        color: #263f59;
        font-weight: bold;
      }
      .downloadsSection {
        display: flex;
        flex-direction: column;
        background-color: #0b2427; /*#090909;*/
        padding: 5vh;
      }
      .download {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-evenly;
        align-items: center;
      }
      .license {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }
      .dataLink {
        font-size: 15px;
        font-weight: bold;
        cursor: pointer;
        padding: 6px;
        border: 1px solid;
        border-radius: 5px;
      }
      .licenseLink {
        border: none;
        padding: none;
        font-weight: normal;
        margin: none;
        font-size: small;
        margin: 0;
      }

      .image {
        width: 100%;
        border-radius: 15px;
        margin-top: 5vh;
      }

      .appImageContainer {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-content: space-evenly;
        flex-wrap: wrap;
      }
      .appImage {
        max-height: 25vh;
        margin: 20px;
        border-radius: 15px;
      }

      footer {
        background-color: #0b2427;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        color: #f2f4f5;
        font-size: 12px;
      }
      .footerIcon {
        padding: 20px;
        height: 50px;
        display: flex;
        justify-content: flex-start;
      }
      .footerIconsLeft {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: flex-start;
        text-decoration: none;
      }
      .footerLinks {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        text-decoration: none;
      }
      .footerSocialMedia {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
    </style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-28601625-4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-28601625-4');
    </script>
    <script>
      function sizeTheThings(event) {
        // Section 1
        const firstSection = document.getElementsByClassName('sideBySide')[0];
        const phoneContainer = document.getElementsByClassName('phoneContainer')[0];
        const firstInfo = document.getElementsByClassName('info')[0];
        const download = document.getElementsByClassName('download')[0];
        const footer = document.getElementById('footer');
        const p8FooterLinks = document.getElementById('p8FooterLinks');
        const mapImages = document.getElementsByClassName('boulderMapImg');

        if (window.innerWidth <= 1000 && firstSection.style.flexDirection !== 'column') {
          firstSection.style.flexDirection = 'column';
          firstInfo.style.paddingBottom = '0';
        } else if (window.innerWidth > 1000 && firstSection.style.flexDirection !== 'row') {
          firstSection.style.flexDirection = 'row';
          firstInfo.style.paddingBottom = 'none';
          firstInfo.style.padding = '5vh';
        }

        if (window.innerWidth <= 780 && download.style.flexDirection !== 'column') {
          download.style.flexDirection = 'column';
          mapImages[0].style.height = '60vh';
          mapImages[1].style.height = '60vh';
        } else if (window.innerWidth > 780 && download.style.flexDirection !== 'row') {
          download.style.flexDirection = 'row';
          mapImages[0].style.height = 'auto';
          mapImages[1].style.height = 'auto';
        }

        if (window.innerWidth <= 500 && footer.style.flexDirection !== 'column') {
          footer.style.flexDirection = 'column';
          p8FooterLinks.style.flexDirection = 'column'
        } else if (window.innerWidth > 500 && footer.style.flexDirection === 'column') {
          footer.style.flexDirection = 'row';
          p8FooterLinks.style.flexDirection = 'row';
        }
      }

      window.addEventListener('load', (event) => {
        sizeTheThings(event);
      });

      window.addEventListener('resize', (event) => {
        sizeTheThings(event);
      });

      window.addEventListener('scroll', function(e) {
        const header = document.getElementById('appHeader');

        // Control shape of header div
        if (window.scrollY > (window.innerHeight * 0.5)) {
          header.style.clipPath = 'none';
          header.style.webkitClipPath = 'none';
        } else if (window.scrollY < (window.innerHeight * 0.5)) {
          header.style.clipPath = 'polygon(0% 0%, 100% 0, 100% 95%, 50% 100%, 0 95%)';
          header.style.webkitClipPath = 'polygon(0% 0%, 100% 0, 100% 95%, 50% 100%, 0 95%)';
        }
      })

      window.addEventListener('click', function(e) {
        if (!window.clickCount) window.clickCount = 0;

        window.clickCount++;
        if (window.clickCount === 100 /* 百 */) {
          const el = document.getElementById('犬夜叉');
          if (el) el.style.display = 'block'; /* ブロック */
          setTimeout(() => el.style.display = 'none', 2000); /* 無し */
        }


        if (e.target.name === 'footerP8') {
          // NOTE: firefox doesn't have scrollTo
          !!window.scrollTo ? window.scrollTo(0, 0) : window.scroll(0, 0);
        }
      });
    </script>
    <link rel="stylesheet" type="text/css" href="main.css">
  </head>
  <body>
    <div id="appHeader">
      <header>
        <img id="pixel8Logo" src="./assets/pixel8-transparent.png" alt="Pixel8.earth logo" />
        <h4>The Collective High Definition 3D Map</h4>
      </header>
    </div>
    <div class="sideBySide">
      <div class="info">
        <div class="infoContainer">
          <p>To enable a future powered by augmented reality, autonomous vehicles and digital mapping we need a global high definition 3D map. This can only be achieved by utilizing the broad array of data sources imaging our world - camera phones, 360 video, drones, aerial, satellite, radar, LiDAR. To make all these imagery sources cooperate and align we need a common ground truth - what we call a ground control surface. Leveraging geomatics, computer vision and machine learning we generate a self improving ground truth and align multiple data sources.</p>
          <p>To demonstrate the utility of this approach we built a mobile app to allow a small group of volunteers to map downtown Boulder with photos. From this we use photogrammetry to build 3D models and align those models to our ground control surface. Check out the results from 25 volunteers mapping downtown Boulder in an afternoon (with a few solo forays by the Pixel8 team to fill gaps) in the interactive map.</p>
        </div>
      </div>
      <div class="phoneContainer">
        <img class="phoneShell" src="./assets/pixel-no-shadow.gif" alt="pixel8 app gif" />
      </div>
    </div>
    <div id="Boulder_Entwine" class="map downloadsMap">
      <img class="boulderMapImg" src="./assets/boulder-map.png" alt="pixel8 Boulder map"></img>
      <div id="interactiveBoulder" class="interact">
        <a href="https://mable-0.pixel8earth.com/entwine/boulder" class="button linkNoStyling" name="mapBtn1" target="_blank" rel="noopener noreferrer">View Interactive Map</a>
      </div>
    </div>
    <div class="downloadsSection">
      <div class="download">
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="http://potree.entwine.io/data/view.html?r=%22https://storage.googleapis.com/pixel8/entwined/ept.json%22">
          View EPT dataset
        </a>
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="https://storage.googleapis.com/pixel8/boulder-entwined.zip">
          Download EPT dataset
        </a>
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="http://cesium.entwine.io/?url=https://storage.googleapis.com/pixel8/3dtiles/tileset.json">
          View 3D tiles
        </a>
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="https://storage.googleapis.com/pixel8/boulder-3dtiles.zip">
          Download 3D tiles
        </a>
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="https://www.maps.arcgis.com/home/webscene/viewer.html?webscene=bcc2fea7ce944c1b98b3521938f3164a">
          View in ArcGIS
        </a>
        <a class="dataLink" target="_blank" rel="noopener noreferrer" href="https://storage.googleapis.com/pixel8/boulder-i3s.slpk">
          Download Esri SLPK
        </a>
      </div>
      <div class="license">
        <a class="licenseLink" href="https://creativecommons.org/licenses/by/2.0/legalcode" target="_blank" rel="noopener noreferrer">Data is licensed as CC by 2.0</a>
      </div>
    </div>
    <div class="info">
      <div class="infoContainer">
        <h3>Ground Truth</h3>
        <p>While camera phone photos are incredibly common satellite, aerial and drones can cover large swaths of geography quickly. Being able to combine 3D models made from camera phone photos with other imagery sources is critical to reach the scope and scale needed for a truly global map. In the map below we’ve fused <a id="boulderLidarLink" target="_blank" rel="noopener noreferrer" href="https://bouldercolorado.gov/open-data/city-of-boulder-lidar/">City of Boulder</a> LiDAR and Pixel8 terrestrial data to create an augmented ground control surface. We could also extend or augment this with SAR or aerial derived point clouds. Whatever works best for the geography we want to map in 3D and what data sources are available. The key is to have a perpetually improving ground truth that we can globally build on to create the best possible 3D map.</p>
      </div>
    </div>
    <div id="Ground_Reference" class="mapImage">
      <img class="boulderMapImg" src="./assets/ground-truth.png" alt="pixel8 Boulder map"></img>
      <div id="interactiveGroundTruth" class="interact">
        <a
          href="https://mable-0.pixel8earth.com/reference?x=-105.282856&y=40.015793&color=0,.7,0&colorType=COLOR&boulderDenseLidar=true&pointBudget=2000000&ept=https://storage.googleapis.com/pixel8/entwined/ept.json"
          class="button linkNoStyling" name="mapBtn1" target="_blank" rel="noopener noreferrer"
        >View Interactive Map</a>
      </div>
    </div>
    <div class="info">
      <div class="infoContainer">
        <h3>Coming Next</h3>
        <p> Let’s take a quick look at this in practice; augmenting the Boulder map with aerial data. In the animation below we can see the terrestrial 3D models created during the Boulder mapping event combined with 3D point clouds generated by Nearmap aerial imagery. This gives us not only terrific perspective from the ground and air of a building, but also allows us to scale 3D build outs that much faster. Each imagery source has benefits and shortcomings. By conflating multiple sources we can create a best of breed hybrid map, which is better and faster than any one source could be alone. (Caveat - we've reduced the pixel size for the Nearmap data to highlight alignment of the Pixel8 data. Nearmap looks very nice on its own with larger pixels.)</p>
      </div>
      <img class="image" src="./assets/pixel8&nearmap.gif" alt="pixel8 + nearmap gif" />
    </div>
    <div id="犬夜叉">
      <img src="https://media.giphy.com/media/QNp9V9qZd6pzy/giphy.gif" alt="犬夜叉 🥚" width="111" height="160"></img>
    </div>
    <div class="info dark noBtmPad">
      <div class="appImageContainer">
        <img class="appImage" src="./assets/app_shot_1.png" alt="pixel8 3D point cloud image" />
        <img class="appImage" src="./assets/app_shot_2.png" alt="pixel8 3D point cloud image" />
        <img class="appImage" src="./assets/app_shot_3.png" alt="pixel8 3D point cloud image" />
        <img class="appImage ten" src="./assets/app_shot_4.png" alt="pixel8 3D point cloud image" />
      </div>
    </div>
  </body>
  <footer id="footer">
    <div class="footerIconsLeft">
      <img class="footerIcon" src="./favicon.ico" alt="P8 icon" name="footerP8"/>
    </div>
    <div id="p8FooterLinks" class="footerLinks">
      <a href="mailto: sean.gorman@pixel8.earth">contact us</a>
      <a href="./terms-of-use.html">terms of use</a>
      <a href="./privacy-policy.html">privacy policy</a>
    </div>
    <div id="socialMediaLinks" class="footerSocialMedia">
      <a href="https://twitter.com/pixel8earth">
       <img src="./assets/twitter_icon.png" alt="Twitter icon" height="25" />
      </a>
      <a href="https://medium.com/@pixel8earth">
       <img src="./assets/medium_icon.png" alt="Medium icon" height="25" />
      </a>
    </div>
  </footer>
</html>
